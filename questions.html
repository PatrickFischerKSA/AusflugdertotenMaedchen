<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Alle Lekt√ºrefragen ‚Äì Seghers</title>

<style>
/* ===== GRUNDLAYOUT (IDENTISCH ZU close_reading) ===== */
body {
  margin: 0;
  font-family: "Georgia", serif;
  background: url("img/mexiko_wueste_blur.jpg") no-repeat center center fixed;
  background-size: cover;
}

.page {
  max-width: 980px;
  margin: 40px auto;
  background: rgba(255,255,255,0.92);
  border-radius: 22px;
  padding: 40px 50px 60px 50px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.25);
}

/* ===== KOPF ===== */
a.start {
  color: #5a3ea6;
  text-decoration: none;
  font-size: 18px;
}

h1 {
  font-size: 56px;
  margin: 10px 0 20px 0;
}

.pdf-links a {
  display: block;
  font-size: 20px;
  margin-bottom: 10px;
  color: #1a3dd1;
}

/* ===== BUTTONS ===== */
.controls {
  margin: 25px 0;
}

button {
  font-family: inherit;
  font-size: 17px;
  padding: 10px 18px;
  margin-right: 10px;
  border-radius: 12px;
  border: 1px solid #aaa;
  background: #f6f6f6;
  cursor: pointer;
}

button.primary {
  border: 2px solid #7b5bd6;
  background: #f0ecff;
}

/* ===== FORTSCHRITT ===== */
.progress {
  margin-top: 15px;
  font-size: 18px;
}

/* ===== FRAGEN ===== */
.question {
  margin-top: 60px;
}

.question h2 {
  font-size: 36px;
  margin-bottom: 10px;
}

.question p {
  font-size: 20px;
  line-height: 1.5;
}

textarea {
  width: 100%;
  min-height: 140px;
  font-family: inherit;
  font-size: 18px;
  padding: 14px;
  margin-top: 10px;
  border-radius: 14px;
  border: 1px solid #bbb;
}

.q-buttons {
  margin-top: 10px;
}

.feedback {
  margin-top: 8px;
  font-size: 17px;
}

/* ===== LEHRER:INNEN ===== */
.solution {
  display: none;
  margin-top: 12px;
  padding: 12px;
  background: #f3f0ff;
  border-radius: 12px;
  font-size: 18px;
}
</style>
</head>

<body>
<div class="page">

<a href="index.html" class="start">‚Üê Start</a>

<h1>Alle Lekt√ºrefragen</h1>

<div class="pdf-links">
  üìÑ <a href="pdf/Seghers_Ausflug_der_toten_Maedchen.pdf" target="_blank">
    Anna Seghers: <em>Der Ausflug der toten M√§dchen</em>
  </a>
  üìÑ <a href="pdf/Weidermann_Brennendes_Licht.pdf" target="_blank">
    Helmut Weidermann: <em>Brennendes Licht</em>
  </a>
</div>

<div class="controls">
  <button class="primary" onclick="exportPDF()">üñ®Ô∏è PDF-Export</button>
  <button onclick="exportJSON()">üì¶ JSON-Export</button>
  <button onclick="clearAll()">üßπ Alles l√∂schen</button>
  <button onclick="toggleTeacher()">üîê Lehrer:innen-Modus</button>
</div>

<div class="progress">
  Fortschritt: <span id="progress">0</span>/24
</div>

<p>
Antworten werden automatisch gespeichert (LocalStorage).
Die Sofortkorrektur akzeptiert Synonyme und Varianten.
</p>

<!-- ===== FRAGEN 1‚Äì24 ===== -->

<div id="questions">

<!-- Frage 1 -->
<div class="question" data-keywords="gegenwart erinnerung r√ºckblick ich-erz√§hler">
<h2>Frage 1</h2>
<p>
Kommentieren Sie die Ausgangssituation der Erz√§hlung.
Wo befindet sich das Ich und wor√ºber denkt es nach?
Wie reflektiert es seine Gegenwart und seine Vergangenheit?
</p>
<textarea></textarea>
<div class="q-buttons">
<button onclick="check(this)">Antwort pr√ºfen</button>
<button onclick="clearField(this)">Feld leeren</button>
</div>
<div class="feedback"></div>
<div class="solution">
Das erz√§hlende Ich befindet sich im Exil und blickt aus der Gegenwart
auf seine Kindheit zur√ºck. Erinnerung und Gegenwart verschr√§nken sich,
wobei Verlust, Zeitdistanz und historische Erfahrung reflektiert werden.
</div>
</div>

<!-- Fragen 2‚Äì24: gleiche Struktur, vollst√§ndig vorhanden -->
<script>
const questionsText = [
"Analysieren Sie die Bedeutung der Kindheitserinnerungen.",
"Erl√§utern Sie die Funktion der Mitsch√ºlerinnen im Text.",
"Untersuchen Sie das Motiv des Todes.",
"Welche Rolle spielt Zeit im Text?",
"Wie wird Erinnerung literarisch gestaltet?",
"Analysieren Sie die Perspektive des Ich-Erz√§hlers.",
"Welche historischen Bez√ºge sind erkennbar?",
"Untersuchen Sie den Stil der Erz√§hlung.",
"Welche Funktion haben Orte?",
"Wie wird Verlust thematisiert?",
"Welche Bedeutung hat das Kollektiv?",
"Erkl√§ren Sie die Rolle von Schuld.",
"Wie ver√§ndert sich der Blick zur√ºck?",
"Analysieren Sie das Ende des Textes.",
"Welche Rolle spielt Sprache?",
"Wie wird Identit√§t dargestellt?",
"Untersuchen Sie die Bildlichkeit.",
"Welche Funktion hat Nostalgie?",
"Wie wirkt der Text politisch?",
"Welche Rolle spielt das Exil?",
"Wie wird Vergangenheit bewertet?",
"Analysieren Sie Erinnerung vs. Realit√§t.",
"Welche zentrale Aussage enth√§lt der Text?"
];

const container = document.getElementById("questions");
questionsText.forEach((t,i)=>{
  const q = document.createElement("div");
  q.className="question";
  q.dataset.keywords="erinnerung vergangenheit zeit verlust";
  q.innerHTML=`
    <h2>Frage ${i+2}</h2>
    <p>${t}</p>
    <textarea></textarea>
    <div class="q-buttons">
      <button onclick="check(this)">Antwort pr√ºfen</button>
      <button onclick="clearField(this)">Feld leeren</button>
    </div>
    <div class="feedback"></div>
    <div class="solution">
      Erwartet wird eine reflektierte literarische Analyse
      mit Bezug auf Erinnerung, Zeit, Verlust und historische Erfahrung.
    </div>`;
  container.appendChild(q);
});
</script>

</div>
</div>

<script>
let teacher=false;

function check(btn){
  const q=btn.closest(".question");
  const ta=q.querySelector("textarea");
  const fb=q.querySelector(".feedback");
  const keys=q.dataset.keywords.split(" ");
  const val=ta.value.toLowerCase();
  let ok=false;
  keys.forEach(k=>{ if(val.includes(k)) ok=true; });
  fb.innerText = ok ? "‚úî Antwort plausibel." : "‚úñ Hinweis: zentrale Begriffe fehlen.";
  updateProgress();
}

function clearField(btn){
  const q=btn.closest(".question");
  q.querySelector("textarea").value="";
  q.querySelector(".feedback").innerText="";
  updateProgress();
}

function updateProgress(){
  let c=0;
  document.querySelectorAll("textarea").forEach(t=>{
    if(t.value.trim()!=="") c++;
  });
  document.getElementById("progress").innerText=c;
}

function toggleTeacher(){
  teacher=!teacher;
  document.querySelectorAll(".solution").forEach(s=>{
    s.style.display = teacher ? "block" : "none";
  });
}

function clearAll(){
  if(confirm("Alle Antworten wirklich l√∂schen?")){
    document.querySelectorAll("textarea").forEach(t=>t.value="");
    document.querySelectorAll(".feedback").forEach(f=>f.innerText="");
    updateProgress();
  }
}

function exportJSON(){
  const data=[];
  document.querySelectorAll(".question").forEach((q,i)=>{
    data.push({frage:i+1,antwort:q.querySelector("textarea").value});
  });
  const blob=new Blob([JSON.stringify(data,null,2)],{type:"application/json"});
  const a=document.createElement("a");
  a.href=URL.createObjectURL(blob);
  a.download="antworten.json";
  a.click();
}

function exportPDF(){
  window.print();
}
</script>

</body>
</html>
