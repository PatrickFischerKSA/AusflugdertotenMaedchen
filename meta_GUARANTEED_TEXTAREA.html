<h1>Meta-Reflexion</h1>

<div class="pdf-links">
  <p>ðŸ“„ <a href="pdf/Seghers_Der-Ausflug-der-toten-Maedchen_9783841213549.pdf" target="_blank">
    Anna Seghers: <em>Der Ausflug der toten MÃ¤dchen</em>
  </a></p>
  <p>ðŸ“„ <a href="pdf/Weidermann_Brennendes-Licht_9783841225436.pdf" target="_blank">
    Helmut Weidermann: <em>Brennendes Licht</em>
  </a></p>
</div>

<script>
document.addEventListener("DOMContentLoaded", function () {
  // Avoid double injection
  if (document.getElementById("meta-notes")) return;

  const block = document.createElement("section");
  block.id = "meta-notes";
  block.innerHTML = `
    <h2>Meta-Reflexion</h2>
    <textarea id="metaText" style="width:100%; min-height:420px; font-size:1.05rem; line-height:1.5;"
      placeholder="Notieren Sie hier Ihre Meta-Reflexion â€¦"></textarea>
    <div style="margin-top:1rem;">
      <button id="exportPdfBtn" type="button">Als PDF exportieren</button>
    </div>
  `;

  // Try to place AFTER the first two PDF links
  const pdfLinks = Array.from(document.querySelectorAll('a[href$=".pdf"]'));
  if (pdfLinks.length >= 2) {
    const second = pdfLinks[1];
    second.parentElement.insertAdjacentElement("afterend", block);
    return;
  }

  // Fallback: after the main heading
  const h1 = document.querySelector("h1");
  if (h1) {
    h1.insertAdjacentElement("afterend", block);
    return;
  }

  // Last resort: append to body
  document.body.appendChild(block);
});
</script>
