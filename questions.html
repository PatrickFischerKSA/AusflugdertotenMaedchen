<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Alle Lekt√ºrefragen ‚Äì Der Ausflug der toten M√§dchen</title>
  <style>
    :root {
      --ink:#111;
      --paper:#fff;
      --muted:#666;
      --card:#ffffff;
      --line:#ddd;
      --accent:#4b2e83;
      --ok:#1b7f3a;
      --bad:#b00020;
    }
    *{box-sizing:border-box}
    body {
      margin:0;
      color:var(--ink);
      background: var(--paper);
      font-family: Georgia, "Times New Roman", Times, serif;
      line-height: 1.35;
    }
    /* blurred background layer */
    body::before {
      content:"";
      position:fixed;
      inset:0;
      background-image:url("img/Anna_Seghers.jpg");
      background-size:cover;
      background-position:center;
      filter: blur(16px) grayscale(10%);
      transform: scale(1.08);
      opacity:.22;
      pointer-events:none;
      z-index:-2;
    }
    body::after {
      content:"";
      position:fixed;
      inset:0;
      background: linear-gradient(180deg, rgba(255,255,255,.92), rgba(255,255,255,.86));
      pointer-events:none;
      z-index:-1;
    }
    header {
      max-width: 980px;
      margin: 28px auto 10px;
      padding: 0 18px;
    }
    h1 {
      font-size: 64px;
      margin: 0 0 10px;
      letter-spacing: .2px;
    }
    .topbar {
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      align-items:center;
      margin: 10px 0 18px;
    }
    .linkrow {
      display:flex;
      flex-direction:column;
      gap:8px;
      margin: 6px 0 14px;
      font-size: 26px;
    }
    .pdf-link {
      display:flex;
      align-items:center;
      gap:10px;
    }
    .pdf-link .icon {
      font-size: 22px;
      opacity:.85;
    }
    a {
      color: #0b2bd6;
      text-decoration: underline;
      font-style: italic;
    }
    .btn {
      border: 1px solid #bbb;
      background: #f7f7f7;
      padding: 10px 12px;
      border-radius: 8px;
      cursor: pointer;
      font-family: inherit;
      font-size: 18px;
    }
    .btn.primary {
      border-color: #8c79b8;
      background: #efeaf8;
    }
    .btn:active { transform: translateY(1px); }
    .status {
      margin-left:auto;
      display:flex;
      gap:12px;
      align-items:center;
      color:var(--muted);
      font-size: 18px;
    }
    .meter {
      width: 220px;
      height: 12px;
      background: #e9e9e9;
      border-radius: 999px;
      overflow:hidden;
      border: 1px solid #d8d8d8;
    }
    .meter > div {
      height:100%;
      width:0%;
      background: #7c65b0;
    }

    main {
      max-width: 980px;
      margin: 0 auto 60px;
      padding: 0 18px;
    }
    .card {
      background: rgba(255,255,255,.92);
      border: 1px solid var(--line);
      border-radius: 16px;
      padding: 18px 18px 14px;
      margin: 16px 0;
      box-shadow: 0 6px 18px rgba(0,0,0,.06);
    }
    .qhead {
      display:flex;
      align-items:baseline;
      justify-content:space-between;
      gap:12px;
      margin-bottom: 10px;
    }
    .qnum {
      font-weight: 700;
      font-size: 30px;
      letter-spacing: .2px;
    }
    .qtext {
      font-size: 20px;
      margin: 6px 0 12px;
    }
    textarea.answer {
      width:100%;
      min-height: 140px;
      padding: 12px;
      border-radius: 12px;
      border: 1px solid #bdbdbd;
      font-family: inherit;
      font-size: 18px;
      resize: vertical;
      background: rgba(255,255,255,.96);
    }
    .actions {
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      margin: 10px 0 8px;
    }
    .feedback {
      border-top: 1px dashed #ccc;
      padding-top: 10px;
      font-size: 18px;
      color: var(--muted);
    }
    .feedback.ok {
      color: var(--ok);
    }
    .feedback.bad {
      color: var(--bad);
    }
    .hint {
      margin-top: 6px;
      color: #333;
    }
    .kw {
      display:inline-block;
      padding: 2px 8px;
      border: 1px solid #cfcfcf;
      border-radius: 999px;
      background:#fafafa;
      margin: 4px 6px 0 0;
      font-style: normal;
      color:#222;
      font-size: 16px;
    }
    .footer {
      margin-top: 22px;
      color: var(--muted);
      font-size: 16px;
    }

    @media (max-width: 640px) {
      h1 { font-size: 44px; }
      .linkrow { font-size: 20px; }
      .qnum { font-size: 24px; }
      .qtext { font-size: 18px; }
      .btn { font-size: 16px; }
      textarea.answer { font-size: 16px; }
      .meter { width: 160px; }
    }

    @media print {
      body::before, body::after { display:none !important; }
      header, .topbar { margin-top: 0; }
      .btn, .actions, .status { display:none !important; }
      .card { box-shadow:none; background:#fff; }
      textarea.answer {
        border: 1px solid #999;
        min-height: 120px;
      }
      a { color:#000; text-decoration:none; font-style:normal; }
    }
  </style>
</head>
<body>
  <header>
    <a href="index.html" style="font-size:22px; color:var(--accent); font-style:normal; text-decoration:underline;">‚Üê Start</a>
    <h1>Alle Lekt√ºrefragen</h1>

    <div class="linkrow" aria-label="Prim√§rtexte">
      <div class="pdf-link">
        <span class="icon">üìÑ</span>
        <a href="pdf/Seghers_Der-Ausflug-der-toten-Maedchen_9783841213549.pdf" target="_blank" rel="noopener">Anna Seghers: <em>Der Ausflug der toten M√§dchen</em></a>
      </div>
      <div class="pdf-link">
        <span class="icon">üìÑ</span>
        <a href="pdf/Weidermann_Brennendes-Licht_9783841225436.pdf" target="_blank" rel="noopener">Helmut Weidermann: <em>Brennendes Licht</em></a>
      </div>
    </div>

    <div class="topbar">
      <button class="btn primary" onclick="exportPDF()">üñ®Ô∏è PDF-Export (Druckansicht)</button>
      <button class="btn" onclick="exportJSON()">üì• JSON-Export (Notizen)</button>
      <button class="btn" onclick="clearAll()">üßπ Alles l√∂schen</button>

      <div class="status">
        <div><strong>Fortschritt:</strong> <span id="progTxt">0/24</span></div>
        <div class="meter" aria-hidden="true"><div id="progBar"></div></div>
      </div>
    </div>

    <div class="footer">
      Hinweise: Antworten werden automatisch gespeichert (LocalStorage). Die Sofortkorrektur pr√ºft Stichworte/Begriffe gro√üz√ºgig (Synonyme/Varianten). Bei ‚Äûfalsch‚Äú erscheinen Hinweise und L√∂sungsvorschl√§ge.
    </div>
  </header>

  <main>
    
    <section class="card" id="q1">
      <div class="qhead">
        <div class="qnum">Frage 1</div>
      </div>
      <div class="qtext">1.) Kommentieren Sie die Ausgangssituation der Erz√§hlung! Wo befindet sich das Ich und wor√ºber denkt es nach? Wie reflektiert es seine Gegenwart und seine Vergangenheit?</div>
      <textarea class="answer" id="a1" placeholder="Antwort (Stichworte oder ganze S√§tze)‚Ä¶"></textarea>
      <div class="actions">
        <button class="btn primary" onclick="check(1)">Antwort pr√ºfen</button>
        <button class="btn" onclick="clearAnswer(1)">Feld leeren</button>
      </div>
      <div class="feedback" id="f1"></div>
    </section>
    
    <section class="card" id="q2">
      <div class="qhead">
        <div class="qnum">Frage 2</div>
      </div>
      <div class="qtext">2.) Was l√∂st der Rufname Netty beim Ich aus? Was k√∂nnen wir √ºber seine Vorgeschichte erahnen? Was erfahren wir √ºber sein Verh√§ltnis zu Namen?</div>
      <textarea class="answer" id="a2" placeholder="Antwort (Stichworte oder ganze S√§tze)‚Ä¶"></textarea>
      <div class="actions">
        <button class="btn primary" onclick="check(2)">Antwort pr√ºfen</button>
        <button class="btn" onclick="clearAnswer(2)">Feld leeren</button>
      </div>
      <div class="feedback" id="f2"></div>
    </section>
    
    <section class="card" id="q3">
      <div class="qhead">
        <div class="qnum">Frage 3</div>
      </div>
      <div class="qtext">3.) Was l√∂st die Schaukel aus? Erkl√§ren Sie die √úberblendungen der Landschaften!</div>
      <textarea class="answer" id="a3" placeholder="Antwort (Stichworte oder ganze S√§tze)‚Ä¶"></textarea>
      <div class="actions">
        <button class="btn primary" onclick="check(3)">Antwort pr√ºfen</button>
        <button class="btn" onclick="clearAnswer(3)">Feld leeren</button>
      </div>
      <div class="feedback" id="f3"></div>
    </section>
    
    <section class="card" id="q4">
      <div class="qhead">
        <div class="qnum">Frage 4</div>
      </div>
      <div class="qtext">4.) Wie wird Leni beschrieben? Wie kommentiert das Ich deren Sorglosigkeit? Was hat sie alles erlebt? Wo hat das Ich sie zuletzt getroffen?</div>
      <textarea class="answer" id="a4" placeholder="Antwort (Stichworte oder ganze S√§tze)‚Ä¶"></textarea>
      <div class="actions">
        <button class="btn primary" onclick="check(4)">Antwort pr√ºfen</button>
        <button class="btn" onclick="clearAnswer(4)">Feld leeren</button>
      </div>
      <div class="feedback" id="f4"></div>
    </section>
    
    <section class="card" id="q5">
      <div class="qhead">
        <div class="qnum">Frage 5</div>
      </div>
      <div class="qtext">5.) Welche Geschichte erz√§hlt das Ich √ºber Marianne? Was k√∂nnen wir √ºber ihr Verhalten w√§hrend der NS-Zeit erahnen? Was erfahren wir indirekt? Was geschah mit Lenis Tochter?</div>
      <textarea class="answer" id="a5" placeholder="Antwort (Stichworte oder ganze S√§tze)‚Ä¶"></textarea>
      <div class="actions">
        <button class="btn primary" onclick="check(5)">Antwort pr√ºfen</button>
        <button class="btn" onclick="clearAnswer(5)">Feld leeren</button>
      </div>
      <div class="feedback" id="f5"></div>
    </section>
    
    <section class="card" id="q6">
      <div class="qhead">
        <div class="qnum">Frage 6</div>
      </div>
      <div class="qtext">6.) Wie wird Frau Mees beschrieben? Was bedeutet das klobige Kreuz? Wie wird ihre Haltung beschrieben?</div>
      <textarea class="answer" id="a6" placeholder="Antwort (Stichworte oder ganze S√§tze)‚Ä¶"></textarea>
      <div class="actions">
        <button class="btn primary" onclick="check(6)">Antwort pr√ºfen</button>
        <button class="btn" onclick="clearAnswer(6)">Feld leeren</button>
      </div>
      <div class="feedback" id="f6"></div>
    </section>
    
    <section class="card" id="q7">
      <div class="qhead">
        <div class="qnum">Frage 7</div>
      </div>
      <div class="qtext">7.) Was das Ich √ºber Nora? Welche Rolle spielte sie als M√§dchen und wie entwickelte sie sich als Erwachsene w√§hrend der NS-Zeit? Wie ver√§ndert sich ihr Verhalten Fr√§ulein Sichel gegen√ºber?</div>
      <textarea class="answer" id="a7" placeholder="Antwort (Stichworte oder ganze S√§tze)‚Ä¶"></textarea>
      <div class="actions">
        <button class="btn primary" onclick="check(7)">Antwort pr√ºfen</button>
        <button class="btn" onclick="clearAnswer(7)">Feld leeren</button>
      </div>
      <div class="feedback" id="f7"></div>
    </section>
    
    <section class="card" id="q8">
      <div class="qhead">
        <div class="qnum">Frage 8</div>
      </div>
      <div class="qtext">8.) Fassen Sie das Schicksal von Lore zusammen! Wie denunzierte sie ihr eifers√ºchtiger Naziliebhaber? Wessen wurde sie bezichtigt?</div>
      <textarea class="answer" id="a8" placeholder="Antwort (Stichworte oder ganze S√§tze)‚Ä¶"></textarea>
      <div class="actions">
        <button class="btn primary" onclick="check(8)">Antwort pr√ºfen</button>
        <button class="btn" onclick="clearAnswer(8)">Feld leeren</button>
      </div>
      <div class="feedback" id="f8"></div>
    </section>
    
    <section class="card" id="q9">
      <div class="qhead">
        <div class="qnum">Frage 9</div>
      </div>
      <div class="qtext">9.) Fassen Sie das Leben von Ida zusammen! Warum heiratete sie nicht? Was erfahren wir √ºber ihr Ende?</div>
      <textarea class="answer" id="a9" placeholder="Antwort (Stichworte oder ganze S√§tze)‚Ä¶"></textarea>
      <div class="actions">
        <button class="btn primary" onclick="check(9)">Antwort pr√ºfen</button>
        <button class="btn" onclick="clearAnswer(9)">Feld leeren</button>
      </div>
      <div class="feedback" id="f9"></div>
    </section>
    
    <section class="card" id="q10">
      <div class="qhead">
        <div class="qnum">Frage 10</div>
      </div>
      <div class="qtext">10.) Beschreiben Sie Gerda! Wie verlief ihr Leben und warum beendete sie es? Interpretieren Sie den Satz: ¬´Ihr Leben selbst war leichter vertilgbar als Spuren ihres Lebens, die im Ged√§chtnis von vielen sind, denen sie einmal zuf√§llig geholfen hat.¬ª</div>
      <textarea class="answer" id="a10" placeholder="Antwort (Stichworte oder ganze S√§tze)‚Ä¶"></textarea>
      <div class="actions">
        <button class="btn primary" onclick="check(10)">Antwort pr√ºfen</button>
        <button class="btn" onclick="clearAnswer(10)">Feld leeren</button>
      </div>
      <div class="feedback" id="f10"></div>
    </section>
    
    <section class="card" id="q11">
      <div class="qhead">
        <div class="qnum">Frage 11</div>
      </div>
      <div class="qtext">11.) Fassen Sie das Schicksal von Otto Fresenius zusammen! Kommentieren Sie, dass die Szene durch eine Dampferfahrt umrahmt wird.</div>
      <textarea class="answer" id="a11" placeholder="Antwort (Stichworte oder ganze S√§tze)‚Ä¶"></textarea>
      <div class="actions">
        <button class="btn primary" onclick="check(11)">Antwort pr√ºfen</button>
        <button class="btn" onclick="clearAnswer(11)">Feld leeren</button>
      </div>
      <div class="feedback" id="f11"></div>
    </section>
    
    <section class="card" id="q12">
      <div class="qhead">
        <div class="qnum">Frage 12</div>
      </div>
      <div class="qtext">12.) Interpretieren Sie den Satz: ¬´Leni drehte so neugierig den Kopf, als ob sie ahne, dass auch ihre eigene Zukunft, der Ablauf ihres eigenen Schicksals, von der Vereinigung oder Trennung des Liebespaares abh√§nge.¬ª</div>
      <textarea class="answer" id="a12" placeholder="Antwort (Stichworte oder ganze S√§tze)‚Ä¶"></textarea>
      <div class="actions">
        <button class="btn primary" onclick="check(12)">Antwort pr√ºfen</button>
        <button class="btn" onclick="clearAnswer(12)">Feld leeren</button>
      </div>
      <div class="feedback" id="f12"></div>
    </section>
    
    <section class="card" id="q13">
      <div class="qhead">
        <div class="qnum">Frage 13</div>
      </div>
      <div class="qtext">13.) Erkl√§ren Sie, wie die Entfremdung von Leni und Marianne erz√§hlerisch dargestellt wird. Was erfahren wir weiteres √ºber Otto Fresenius? Was unterscheidet ihn vom gewissen Gustav Liebig? Welche Voraus- und Nachdeutungen begleiten die Szene?</div>
      <textarea class="answer" id="a13" placeholder="Antwort (Stichworte oder ganze S√§tze)‚Ä¶"></textarea>
      <div class="actions">
        <button class="btn primary" onclick="check(13)">Antwort pr√ºfen</button>
        <button class="btn" onclick="clearAnswer(13)">Feld leeren</button>
      </div>
      <div class="feedback" id="f13"></div>
    </section>
    
    <section class="card" id="q14">
      <div class="qhead">
        <div class="qnum">Frage 14</div>
      </div>
      <div class="qtext">14.) Welche Auswirkungen hat Herr Neeb auf den weiteren Verlauf der Handlung?</div>
      <textarea class="answer" id="a14" placeholder="Antwort (Stichworte oder ganze S√§tze)‚Ä¶"></textarea>
      <div class="actions">
        <button class="btn primary" onclick="check(14)">Antwort pr√ºfen</button>
        <button class="btn" onclick="clearAnswer(14)">Feld leeren</button>
      </div>
      <div class="feedback" id="f14"></div>
    </section>
    
    <section class="card" id="q15">
      <div class="qhead">
        <div class="qnum">Frage 15</div>
      </div>
      <div class="qtext">15.) Interpretieren Sie die Geschichte von Else und Ebi!</div>
      <textarea class="answer" id="a15" placeholder="Antwort (Stichworte oder ganze S√§tze)‚Ä¶"></textarea>
      <div class="actions">
        <button class="btn primary" onclick="check(15)">Antwort pr√ºfen</button>
        <button class="btn" onclick="clearAnswer(15)">Feld leeren</button>
      </div>
      <div class="feedback" id="f15"></div>
    </section>
    
    <section class="card" id="q16">
      <div class="qhead">
        <div class="qnum">Frage 16</div>
      </div>
      <div class="qtext">16.) Zeigen Sie, wie die Geschichten miteinander verschr√§nkt werden! Erkl√§ren Sie die √úberblendungen der Handlungsstr√§nge! Wohin bricht das Schiff auf?</div>
      <textarea class="answer" id="a16" placeholder="Antwort (Stichworte oder ganze S√§tze)‚Ä¶"></textarea>
      <div class="actions">
        <button class="btn primary" onclick="check(16)">Antwort pr√ºfen</button>
        <button class="btn" onclick="clearAnswer(16)">Feld leeren</button>
      </div>
      <div class="feedback" id="f16"></div>
    </section>
    
    <section class="card" id="q17">
      <div class="qhead">
        <div class="qnum">Frage 17</div>
      </div>
      <div class="qtext">17.) Wie kommt das Ich zum Auftrag, einen Bericht zu schreiben?</div>
      <textarea class="answer" id="a17" placeholder="Antwort (Stichworte oder ganze S√§tze)‚Ä¶"></textarea>
      <div class="actions">
        <button class="btn primary" onclick="check(17)">Antwort pr√ºfen</button>
        <button class="btn" onclick="clearAnswer(17)">Feld leeren</button>
      </div>
      <div class="feedback" id="f17"></div>
    </section>
    
    <section class="card" id="q18">
      <div class="qhead">
        <div class="qnum">Frage 18</div>
      </div>
      <div class="qtext">18.) Wie wird mit der Aussichtsbeschreibung die deutsche Geschichte kommentiert? Interpretieren Sie folgenden Satz: ¬´Wie viele Aufs√§tze noch geschrieben wurden √ºber die Heimat und die Geschichte der Heimat und die Liebe zur Heimat, nie wurde erw√§hnt, dass vornehmlich unser Schwarm einandergelehnter M√§dchen, stromaufw√§rts im schr√§gen Nachmittagslicht, zur Heimat geh√∂rte.¬ª</div>
      <textarea class="answer" id="a18" placeholder="Antwort (Stichworte oder ganze S√§tze)‚Ä¶"></textarea>
      <div class="actions">
        <button class="btn primary" onclick="check(18)">Antwort pr√ºfen</button>
        <button class="btn" onclick="clearAnswer(18)">Feld leeren</button>
      </div>
      <div class="feedback" id="f18"></div>
    </section>
    
    <section class="card" id="q19">
      <div class="qhead">
        <div class="qnum">Frage 19</div>
      </div>
      <div class="qtext">19.) Interpretieren Sie den Umstand, dass der ¬´Greis¬ª alle seine Sch√ºler √ºberlebt!</div>
      <textarea class="answer" id="a19" placeholder="Antwort (Stichworte oder ganze S√§tze)‚Ä¶"></textarea>
      <div class="actions">
        <button class="btn primary" onclick="check(19)">Antwort pr√ºfen</button>
        <button class="btn" onclick="clearAnswer(19)">Feld leeren</button>
      </div>
      <div class="feedback" id="f19"></div>
    </section>
    
    <section class="card" id="q20">
      <div class="qhead">
        <div class="qnum">Frage 20</div>
      </div>
      <div class="qtext">20.) Deuten Sie die Abschiedsszene nach dem Ausflug! Wie wird Marianne sterben? Wie stirbt Leni? Warum √ºberlebt ihr Kind?</div>
      <textarea class="answer" id="a20" placeholder="Antwort (Stichworte oder ganze S√§tze)‚Ä¶"></textarea>
      <div class="actions">
        <button class="btn primary" onclick="check(20)">Antwort pr√ºfen</button>
        <button class="btn" onclick="clearAnswer(20)">Feld leeren</button>
      </div>
      <div class="feedback" id="f20"></div>
    </section>
    
    <section class="card" id="q21">
      <div class="qhead">
        <div class="qnum">Frage 21</div>
      </div>
      <div class="qtext">21.) Analysieren Sie die doppelte Bedeutung der Heimkehr! Wie erlebt das Ich den Weg? Welche Vorahnungen hat es? Inwiefern bewahrheiten sich diese?</div>
      <textarea class="answer" id="a21" placeholder="Antwort (Stichworte oder ganze S√§tze)‚Ä¶"></textarea>
      <div class="actions">
        <button class="btn primary" onclick="check(21)">Antwort pr√ºfen</button>
        <button class="btn" onclick="clearAnswer(21)">Feld leeren</button>
      </div>
      <div class="feedback" id="f21"></div>
    </section>
    
    <section class="card" id="q22">
      <div class="qhead">
        <div class="qnum">Frage 22</div>
      </div>
      <div class="qtext">22.) Erl√§utern Sie die M√ºdigkeit! Was verbirgt sich in ihr? Wie transponiert sich die imaginierte Traumrealit√§t in die mexikanische zur√ºck?</div>
      <textarea class="answer" id="a22" placeholder="Antwort (Stichworte oder ganze S√§tze)‚Ä¶"></textarea>
      <div class="actions">
        <button class="btn primary" onclick="check(22)">Antwort pr√ºfen</button>
        <button class="btn" onclick="clearAnswer(22)">Feld leeren</button>
      </div>
      <div class="feedback" id="f22"></div>
    </section>
    
    <section class="card" id="q23">
      <div class="qhead">
        <div class="qnum">Frage 23</div>
      </div>
      <div class="qtext">23.) Wie lesen Sie folgenden Satz? ¬´Ich fragte mich, wie ich die Zeit verbringen sollte, heute und morgen, hier und dort, denn ich sp√ºrte jetzt einen unermesslichen Strom von Zeit, unbezwingbar wie die Luft.¬ª</div>
      <textarea class="answer" id="a23" placeholder="Antwort (Stichworte oder ganze S√§tze)‚Ä¶"></textarea>
      <div class="actions">
        <button class="btn primary" onclick="check(23)">Antwort pr√ºfen</button>
        <button class="btn" onclick="clearAnswer(23)">Feld leeren</button>
      </div>
      <div class="feedback" id="f23"></div>
    </section>
    
    <section class="card" id="q24">
      <div class="qhead">
        <div class="qnum">Frage 24</div>
      </div>
      <div class="qtext">24.) Inwiefern kriegt der Auftrag der Lehrerin w√§hrend des Ausflugs eine andere Bedeutung? Was ist aus diesem Ausflug geworden?</div>
      <textarea class="answer" id="a24" placeholder="Antwort (Stichworte oder ganze S√§tze)‚Ä¶"></textarea>
      <div class="actions">
        <button class="btn primary" onclick="check(24)">Antwort pr√ºfen</button>
        <button class="btn" onclick="clearAnswer(24)">Feld leeren</button>
      </div>
      <div class="feedback" id="f24"></div>
    </section>
    
  </main>

<script>
  const CFG = {
  "1": {
    "groups": [
      [
        "mexiko",
        "exil"
      ],
      [
        "gegenwart",
        "jetzt",
        "heute"
      ],
      [
        "vergangenheit",
        "fr√ºher",
        "damals",
        "erinner"
      ]
    ],
    "hint": "Ort: Exil in Mexiko (Hitze/W√ºste). Spannungsverh√§ltnis zwischen Gegenwart und Erinnerung/Vergangenheit herausarbeiten.",
    "suggest": [
      "Mexiko/Exil",
      "Nachdenken/Reflexion",
      "Gegenwart vs. Vergangenheit",
      "Erinnerungsstrom"
    ]
  },
  "2": {
    "groups": [
      [
        "netty"
      ],
      [
        "rufname",
        "name",
        "namen"
      ],
      [
        "erinner",
        "vorgeschichte",
        "fr√ºher"
      ]
    ],
    "hint": "Netty als Trigger: Erinnerung, Biografie-Spuren, Bedeutung von Namen/Rufnamen.",
    "suggest": [
      "Netty als Ausl√∂ser",
      "Vorgeschichte angedeutet",
      "Namen/Identit√§t",
      "Rufname vs. offizieller Name"
    ]
  },
  "3": {
    "groups": [
      [
        "schaukel"
      ],
      [
        "√ºberblend",
        "wechsel",
        "gleiten"
      ],
      [
        "landschaft",
        "mexiko",
        "mainz",
        "heimat"
      ]
    ],
    "hint": "Schaukel als Ausl√∂ser eines gleitenden √úbergangs: Gegenwart ‚Üî Vergangenheit, Landschaften √ºberlagern sich.",
    "suggest": [
      "Schaukel-Impuls",
      "√úberblendung/Schichtung",
      "Mexiko ‚Üî Heimatlandschaft",
      "Erinnerungsmechanik"
    ]
  },
  "4": {
    "groups": [
      [
        "leni"
      ],
      [
        "sorglos",
        "sorglosigkeit",
        "leicht"
      ],
      [
        "zuletzt",
        "getroffen",
        "wiedersehen"
      ]
    ],
    "hint": "Lenis Charakterisierung + Kommentar der Erz√§hlerin; Stationen ihres Lebens; letztes Treffen.",
    "suggest": [
      "Lenis Beschreibung",
      "Sorglosigkeit (kommentiert)",
      "Erlebtes/Stationen",
      "letztes Treffen"
    ]
  },
  "5": {
    "groups": [
      [
        "marianne"
      ],
      [
        "ns",
        "naz",
        "drittes reich"
      ],
      [
        "indirekt",
        "erahnen",
        "andeutung"
      ],
      [
        "tochter",
        "kind"
      ]
    ],
    "hint": "Marianne: erz√§hlte Geschichte + Leerstellen/Indirektes zur NS-Zeit; Schicksal von Lenis Tochter.",
    "suggest": [
      "Marianne-Story",
      "Verhalten/Position in NS-Zeit",
      "Indirekte Hinweise",
      "Lenis Tochter"
    ]
  },
  "6": {
    "groups": [
      [
        "frau mees",
        "mees"
      ],
      [
        "kreuz"
      ],
      [
        "haltung",
        "fr√∂mm",
        "relig",
        "starr"
      ]
    ],
    "hint": "Frau Mees: √§u√üerlich/innerlich; Kreuz als Zeichen (Schwere/Fr√∂mmigkeit/Behauptung); Haltung/Attit√ºde.",
    "suggest": [
      "Beschreibung Frau Mees",
      "klobiges Kreuz: Symbol",
      "Haltung (starr/behauptend?)"
    ]
  },
  "7": {
    "groups": [
      [
        "nora"
      ],
      [
        "ns",
        "naz"
      ],
      [
        "fr√§ulein sichel",
        "sichel"
      ],
      [
        "verhalten",
        "rolle"
      ]
    ],
    "hint": "Nora als M√§dchen/Erwachsene; Entwicklung in der NS-Zeit; Ver√§nderung gegen√ºber Fr√§ulein Sichel.",
    "suggest": [
      "Nora: Rolle als M√§dchen",
      "Entwicklung als Erwachsene",
      "NS-Zeit-Kontext",
      "Verhalten gg√º. Frl. Sichel"
    ]
  },
  "8": {
    "groups": [
      [
        "lore"
      ],
      [
        "denunzi",
        "anzeige",
        "verr"
      ],
      [
        "eifers√ºcht",
        "liebhaber"
      ],
      [
        "bezicht",
        "beschuld"
      ]
    ],
    "hint": "Lore: Denunziation durch eifers√ºchtigen Naziliebhaber; wessen bezichtigt? Konsequenzen.",
    "suggest": [
      "Lore-Schicksal",
      "Denunziation",
      "Eifersucht/Naziliebhaber",
      "Vorwurf/Bezichtigung"
    ]
  },
  "9": {
    "groups": [
      [
        "ida"
      ],
      [
        "heirat",
        "heiratete"
      ],
      [
        "ende",
        "tod",
        "gestorben"
      ]
    ],
    "hint": "Idas Lebensweg; warum keine Heirat; was √ºber ihr Ende/Schicksal.",
    "suggest": [
      "Ida: Lebenslauf",
      "Warum keine Heirat",
      "Ende/Schicksal"
    ]
  },
  "10": {
    "groups": [
      [
        "gerda"
      ],
      [
        "suizid",
        "selbstmord",
        "beendete"
      ],
      [
        "satz",
        "vertilgbar",
        "spuren",
        "ged√§chtnis"
      ]
    ],
    "hint": "Gerda: Verlauf + Grund des Endes; Satzdeutung: Spuren im Ged√§chtnis anderer vs. eigenes Leben.",
    "suggest": [
      "Gerda: Charakter/Leben",
      "Warum Ende",
      "Spuren im Ged√§chtnis",
      "Interpretation des Zitats"
    ]
  },
  "11": {
    "groups": [
      [
        "otto fresenius",
        "fresenius"
      ],
      [
        "dampfer",
        "fahrt",
        "dampferfahrt"
      ],
      [
        "umrahm",
        "rahmen"
      ]
    ],
    "hint": "Otto Fresenius: Schicksal; Dampferfahrt als Rahmung (Zeitfluss, √úbergang, Distanz).",
    "suggest": [
      "Otto Fresenius",
      "Dampferfahrt-Rahmung",
      "Zeit/√úbergang/Distanz"
    ]
  },
  "12": {
    "groups": [
      [
        "leni"
      ],
      [
        "zukunft"
      ],
      [
        "vereinigung",
        "trennung",
        "liebespaar"
      ],
      [
        "ahne",
        "ahnung",
        "vorher"
      ]
    ],
    "hint": "Leni als Sensor f√ºr Zukunft: Liebespaar als Schicksalsknoten; Vorahnung/Prophetie-Motiv.",
    "suggest": [
      "Lenis Neugier",
      "Zukunft/Ahnung",
      "Vereinigung vs. Trennung",
      "Schicksalsverkn√ºpfung"
    ]
  },
  "13": {
    "groups": [
      [
        "entfremd"
      ],
      [
        "erz√§hl",
        "darstell"
      ],
      [
        "otto fresenius",
        "fresenius"
      ],
      [
        "gustav liebig",
        "liebig"
      ],
      [
        "voraus",
        "nachdeut"
      ]
    ],
    "hint": "Entfremdung narrativ (Szenenbau, Perspektive, Auslassungen); Otto vs. Gustav; Voraus-/Nachdeutungen.",
    "suggest": [
      "Entfremdung Leni‚ÄìMarianne",
      "Erz√§hltechnik",
      "Otto Fresenius vs. Gustav Liebig",
      "Voraus-/Nachdeutung"
    ]
  },
  "14": {
    "groups": [
      [
        "herr neeb",
        "neeb"
      ],
      [
        "auswirkung",
        "folgen",
        "verlauf"
      ]
    ],
    "hint": "Herr Neeb als Katalysator: welche Handlungsschritte l√∂st er aus/verschiebt er?",
    "suggest": [
      "Herr Neeb: Funktion",
      "Auswirkungen auf Handlung",
      "Konsequenzen"
    ]
  },
  "15": {
    "groups": [
      [
        "else"
      ],
      [
        "ebi"
      ],
      [
        "interpret",
        "deut"
      ]
    ],
    "hint": "Else/Ebi: was sagt ihre Geschichte √ºber Zeit, Anpassung, Verlust oder Moral?",
    "suggest": [
      "Else & Ebi: Kern",
      "Deutung/ Aussage",
      "Bezug zum Ganzen"
    ]
  },
  "16": {
    "groups": [
      [
        "verschrank",
        "verschr√§nk"
      ],
      [
        "√ºberblend"
      ],
      [
        "handlungsstrang"
      ],
      [
        "schiff"
      ],
      [
        "aufbruch",
        "bricht"
      ]
    ],
    "hint": "Verschr√§nkung/√úberblendungen: wie die Erz√§hlstr√§nge ineinander greifen; Schiff als Motiv (Aufbruch/Ziel).",
    "suggest": [
      "Verschr√§nkung",
      "√úberblendung",
      "Handlungsstr√§nge",
      "Schiff: Aufbruch wohin?"
    ]
  },
  "17": {
    "groups": [
      [
        "auftrag"
      ],
      [
        "bericht"
      ],
      [
        "ich"
      ],
      [
        "kommt",
        "gelangt"
      ]
    ],
    "hint": "Wer erteilt den Auftrag? In welcher Situation? Warum gerade das Ich (Funktion/Legitimation)?",
    "suggest": [
      "Entstehung des Auftrags",
      "Bericht schreiben",
      "Situation/Anlass",
      "Funktion im Text"
    ]
  },
  "18": {
    "groups": [
      [
        "aussichtsbeschreibung"
      ],
      [
        "deutsche geschichte"
      ],
      [
        "heimat"
      ],
      [
        "aufs√§tze",
        "aufsatz"
      ],
      [
        "m√§dchen",
        "schwarm"
      ]
    ],
    "hint": "Aussichtsbeschreibung als Geschichtskommentar: Heimatdiskurse vs. gelebte Erfahrung (M√§dchen-Schwarm).",
    "suggest": [
      "Aussichtsbeschreibung",
      "Kommentar zu deutscher Geschichte",
      "Heimat-Rhetorik",
      "M√§dchen-Schwarm als Heimat"
    ]
  },
  "19": {
    "groups": [
      [
        "greis"
      ],
      [
        "sch√ºler",
        "√ºberlebt"
      ],
      [
        "interpret",
        "bedeut"
      ]
    ],
    "hint": "¬´Greis¬ª √ºberlebt alle Sch√ºler: Zeit, Schuld, √úberlebenslast, Blick zur√ºck.",
    "suggest": [
      "Greis-Figur",
      "√úberleben aller Sch√ºler",
      "Zeit/√úberlebensschuld",
      "Symbolik"
    ]
  },
  "20": {
    "groups": [
      [
        "abschied"
      ],
      [
        "marianne"
      ],
      [
        "leni"
      ],
      [
        "sterben",
        "tod"
      ],
      [
        "kind",
        "√ºberlebt"
      ]
    ],
    "hint": "Abschiedsszene: Tod von Marianne und Leni; warum √ºberlebt das Kind (Zufall, Zukunft, Hoffnung)?",
    "suggest": [
      "Abschiedsszene",
      "Marianne: Sterben",
      "Leni: Tod",
      "Kind √ºberlebt: Deutung"
    ]
  },
  "21": {
    "groups": [
      [
        "heimkehr"
      ],
      [
        "doppelte bedeutung"
      ],
      [
        "vorahn"
      ],
      [
        "bewahrheit",
        "erf√ºllt"
      ],
      [
        "weg"
      ]
    ],
    "hint": "Heimkehr als realer Weg + metaphysische R√ºckkehr; Vorahnungen, die sich sp√§ter best√§tigen.",
    "suggest": [
      "Heimkehr doppelt",
      "Wegerleben",
      "Vorahnungen",
      "Bewahrheitung"
    ]
  },
  "22": {
    "groups": [
      [
        "m√ºdigkeit"
      ],
      [
        "verbirgt"
      ],
      [
        "traumrealit√§t",
        "imagin"
      ],
      [
        "transpon",
        "zur√ºck"
      ],
      [
        "mexikan"
      ]
    ],
    "hint": "M√ºdigkeit als Schwelle: Traum/Imagination kippt zur√ºck in mexikanische Realit√§t; was steckt darin?",
    "suggest": [
      "M√ºdigkeit",
      "Schwellenzustand",
      "Traum ‚Üî Realit√§t",
      "R√ºckkehr nach Mexiko"
    ]
  },
  "23": {
    "groups": [
      [
        "strom von zeit",
        "zeit"
      ],
      [
        "unermess"
      ],
      [
        "unbezwingbar"
      ],
      [
        "luft"
      ],
      [
        "hier und dort",
        "heute",
        "morgen"
      ]
    ],
    "hint": "Satzdeutung: Zeit als √ºberw√§ltigende Gr√∂√üe; Existenz im Exil; Offenheit/Leere/Unbezwingbarkeit.",
    "suggest": [
      "Zeitstrom",
      "Unermesslichkeit",
      "Unbezwingbar wie Luft",
      "Exil-Zeitgef√ºhl"
    ]
  },
  "24": {
    "groups": [
      [
        "auftrag",
        "lehrerin"
      ],
      [
        "andere bedeutung"
      ],
      [
        "ausflug"
      ],
      [
        "geworden",
        "was ist aus"
      ],
      [
        "bericht",
        "aufsatz"
      ]
    ],
    "hint": "Lehrerinnenauftrag kippt: aus schulischer Aufgabe wird Gedenk-/Geschichtsarbeit; was wurde aus dem Ausflug?",
    "suggest": [
      "Lehrerinnenauftrag",
      "Sinnverschiebung",
      "Ausflug als Erinnerungsort",
      "Was daraus geworden ist"
    ]
  }
};

  const STORAGE_KEY = "seghers_all_questions_v1";

  function normalize(s) {
    if(!s) return "";
    // lower + unicode normalize + strip diacritics + punctuation
    return s
      .toLowerCase()
      .normalize("NFD")
      .replace(/[ÃÄ-ÕØ]/g, "")
      .replace(/[‚Äô'¬¥`]/g, "'")
      .replace(/[^a-z0-9√§√∂√º√ü \n\t\-]/g, " ")
      .replace(/\s+/g, " ")
      .trim();
  }

  function containsAny(text, options) {
    const t = " " + normalize(text) + " ";
    return options.some(opt => {
      const o = " " + normalize(opt) + " ";
      return t.includes(o);
    });
  }

  function getAll() {
    try {
      return JSON.parse(localStorage.getItem(STORAGE_KEY) || "{}");
    } catch(e) {
      return {};
    }
  }

  function setAll(obj) {
    localStorage.setItem(STORAGE_KEY, JSON.stringify(obj));
  }

  function saveAnswer(i) {
    const all = getAll();
    all["a"+i] = document.getElementById("a"+i).value;
    setAll(all);
    updateProgress();
  }

  function loadAnswers() {
    const all = getAll();
    for(let i=1;i<=24;i++) {
      const el = document.getElementById("a"+i);
      if(!el) continue;
      if(all["a"+i]) el.value = all["a"+i];
      el.addEventListener("input", () => saveAnswer(i));
    }
    updateProgress();
  }

  function matchedGroups(i, answer) {
    const cfg = CFG[String(i)];
    const groups = cfg.groups || [];
    let hit = 0;
    let missing = [];
    for(const g of groups) {
      if(containsAny(answer, g)) hit++;
      else missing.push(g);
    }
    return { hit, total: groups.length, missing };
  }

  function threshold(total) {
    if(total <= 1) return 1;
    return Math.ceil(total * 0.6);
  }

  function check(i) {
    const ans = document.getElementById("a"+i).value || "";
    const f = document.getElementById("f"+i);
    const cfg = CFG[String(i)];

    const mg = matchedGroups(i, ans);
    const need = threshold(mg.total);
    const ok = mg.hit >= need;

    f.className = "feedback " + (ok ? "ok" : "bad");

    if(ok) {
      f.innerHTML = "‚úÖ <strong>Passt.</strong> Du deckst zentrale Aspekte ab. (Treffer: " + mg.hit + "/" + mg.total + ")";
    } else {
      const missingTxt = mg.missing.slice(0,4).map(g => g[0]).filter(Boolean);
      f.innerHTML = "‚ùå <strong>Noch ausbauen.</strong> (Treffer: " + mg.hit + "/" + mg.total + ")"
        + "<div class='hint'><strong>Hinweis:</strong> " + escapeHtml(cfg.hint || "") + "</div>"
        + "<div class='hint'><strong>Stichworte (Beispiele):</strong> " + (cfg.suggest || []).map(s => "<span class='kw'>" + escapeHtml(s) + "</span>").join(" ") + "</div>";
    }
    markChecked(i, ok);
    updateProgress();
  }

  function markChecked(i, ok) {
    const all = getAll();
    all["ok"+i] = !!ok;
    setAll(all);
  }

  function isOk(i) {
    const all = getAll();
    return !!all["ok"+i];
  }

  function clearAnswer(i) {
    document.getElementById("a"+i).value = "";
    const f = document.getElementById("f"+i);
    f.className = "feedback";
    f.textContent = "";
    const all = getAll();
    delete all["a"+i];
    all["ok"+i] = false;
    setAll(all);
    updateProgress();
  }

  function clearAll() {
    if(!confirm("Wirklich alle Antworten und Bewertungen l√∂schen?")) return;
    localStorage.removeItem(STORAGE_KEY);
    for(let i=1;i<=24;i++) {
      const a = document.getElementById("a"+i);
      const f = document.getElementById("f"+i);
      if(a) a.value = "";
      if(f) { f.className="feedback"; f.textContent=""; }
    }
    updateProgress();
  }

  function updateProgress() {
    let okCount = 0;
    for(let i=1;i<=24;i++) if(isOk(i)) okCount++;
    document.getElementById("progTxt").textContent = okCount + "/24";
    document.getElementById("progBar").style.width = Math.round((okCount/24)*100) + "%";
  }

  function exportPDF() {
    // Print stylesheet hides buttons and keeps answers
    window.print();
  }

  function exportJSON() {
    const all = getAll();
    const out = {
      exportedAt: new Date().toISOString(),
      module: "Alle Lekt√ºrefragen ‚Äì Anna Seghers: Der Ausflug der toten M√§dchen",
      answers: {},
      checks: {}
    };
    for(let i=1;i<=24;i++) {
      out.answers[i] = all["a"+i] || "";
      out.checks[i] = !!all["ok"+i];
    }
    const blob = new Blob([JSON.stringify(out, null, 2)], {type:"application/json"});
    const url = URL.createObjectURL(blob);
    const a = document.createElement("a");
    a.href = url;
    a.download = "seghers_alle-lektuerefragen_notizen.json";
    document.body.appendChild(a);
    a.click();
    a.remove();
    URL.revokeObjectURL(url);
  }

  function escapeHtml(s) {
    return String(s).replace(/[&<>"]/g, c => ({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"}[c]));
  }

  // restore ok flags into UI feedback lightly (optional)
  function restoreChecks() {
    const all = getAll();
    for(let i=1;i<=24;i++) {
      if(all["ok"+i]) {
        const f = document.getElementById("f"+i);
        if(f && !f.textContent) {
          f.className = "feedback ok";
          f.innerHTML = "‚úÖ <strong>Bereits als passend markiert.</strong> (gespeichert)";
        }
      }
    }
  }

  window.addEventListener("DOMContentLoaded", () => {
    loadAnswers();
    restoreChecks();
  });
</script>
</body>
</html>
